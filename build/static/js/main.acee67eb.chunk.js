(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){e.exports=a.p+"static/media/bg-night-pc.ea2b56cc.svg"},27:function(e,t,a){e.exports=a.p+"static/media/bg-day-mobile.43f61d16.png"},28:function(e,t,a){e.exports=a.p+"static/media/bg-night-mobile.cfd5517e.png"},33:function(e,t,a){e.exports=a(95)},38:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(26),i=a.n(c),o=(a(38),a(32)),s=a(6),u=a.n(s),l=a(10),m=a(1),d=a(2),p=a(4),h=a(3),f=a(5),y=a(12),g=a.n(y),b="&key=4e4006dc280346f9ab2a2471ffc67574",v=function(){var e=Object(l.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{mode:"cors"});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error(a.statusText);case 6:return e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","error");case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),E=function(e){return v("https://api.weatherbit.io/v2.0/forecast/hourly?city="+e+"&units=M"+b)},w=function(e){return v("https://api.weatherbit.io/v2.0/forecast/daily?city="+e+"&units=M"+b)},k=function(e){return Promise.all([E(e),w(e)])},O={light:{appBackground:{background:"transparent"},dailyForecast:{background:"#0a1949"}},dark:{appBackground:{background:"black"},dailyForecast:{background:"black"}}},j=r.a.createContext({theme:O.light,toggleTheme:function(){}}),S=(a(81),a(11)),N=a.n(S),C=a(27),B=a.n(C),T=a(28),D=a.n(T),M=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).appBackground=void 0,a.backgroundImg=void 0,a.appBackground=r.a.createRef(),a.backgroundImg={dayPc:N.a,dayMobile:B.a,nightPc:N.a,nightMobile:D.a},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"setBackgroundImage",value:function(){null!=this.appBackground.current&&(this.props.dayTime?(document.documentElement.style.setProperty("--image-pc","url('".concat(this.backgroundImg.dayPc,"')")),document.documentElement.style.setProperty("--image-mobile","url('".concat(this.backgroundImg.dayMobile,"')"))):(document.documentElement.style.setProperty("--image-pc","url('".concat(this.backgroundImg.nightPc,"')")),document.documentElement.style.setProperty("--image-mobile","url('".concat(this.backgroundImg.nightMobile,"')"))))}},{key:"render",value:function(){var e=this;return this.setBackgroundImage(),r.a.createElement(j.Consumer,null,function(t){var a=t.theme;return r.a.createElement("div",{className:"app-background",ref:e.appBackground},r.a.createElement("div",{className:"dark-layer",style:{backgroundColor:a.appBackground.background}}))})}}]),t}(n.Component),F=(a(82),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onClickMenu=function(e){a.setState(function(e){return{isOpen:!e.isOpen}})},a.onClickButtonSimple=function(e){a.setState(function(e){return{buttonSimple:!e.buttonSimple}}),a.props.toggleButtonSimple()},a.onClickTheme=function(e){a.setState(function(e){return{buttonTheme:!e.buttonTheme}}),a.props.toggleButtonTheme()},a.state={isOpen:!1,buttonSimple:a.props.isButtonSimple,buttonTheme:a.props.isButtonTheme},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"app-menu"},r.a.createElement("div",{className:this.state.isOpen?"nav-icon nav-icon-open":"nav-icon",onClick:function(t){return e.onClickMenu(t)}},r.a.createElement("div",null)),this.state.isOpen&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:this.state.buttonSimple?"app-menu-button button-simple menu-button-open":"app-menu-button button-simple",onClick:function(t){return e.onClickButtonSimple(t)}},"Simple mode ",this.state.buttonSimple?"on":"off"),r.a.createElement("button",{className:this.state.buttonTheme?"app-menu-button button-theme menu-button-open":"app-menu-button button-theme",onClick:function(t){return e.onClickTheme(t)}},"Dark theme ",this.state.buttonTheme?"on":"off")))}}]),t}(n.Component)),x=(a(83),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).input=void 0,a.centerInput=function(e){var t=e.target.value;t.length?a.setState({isEmpty:!1}):a.setState({isEmpty:!0}),a.props.onChange(t)},a.submitInput=function(e){var t=e.target.value;if(13===e.keyCode){var n=e.target.value.trim();a.isValidCityName(t)&&(a.props.turnOnLoading(),a.props.onSubmit(n))}},a.state={isValid:!1,isEmpty:!1},a.input=r.a.createRef(),a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"isValidCityName",value:function(e){return!!e&&!/\d/.test(e)}},{key:"componentDidMount",value:function(){document.getElementById("search").value=this.props.city}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-container"},r.a.createElement("input",{className:this.state.isEmpty?"":"search-not-empty",id:"search",name:"search",type:"text",value:this.props.city,ref:this.input,placeholder:"City, place or country...",autoComplete:"off",onChange:function(t){return e.centerInput(t)},onKeyUp:function(t){return e.submitInput(t)}}))}}]),t}(n.Component));a(84);var I=function(e){return r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},P=(a(85),function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getDate",value:function(e){return new Date(e).toLocaleString("en-us",{weekday:"long"})}},{key:"render",value:function(){if(this.props.forecast.data.length){var e=this.props.forecast.data[0].temp,t=this.props.forecast.data[0].timestamp_local;return r.a.createElement("div",{className:"current-forecast"},r.a.createElement("div",{className:"current-forecast-temperature"},Math.round(e)),r.a.createElement("div",{className:"current-forecast-day"},this.getDate(t)))}return r.a.createElement("div",null,"not found")}}]),t}(r.a.PureComponent)),_=(a(86),function(e){switch(e.toString()){case"200":case"201":return"wi-day-storm-showers";case"202":return"wi-day-thunderstorm";case"230":return"wi-day-lightning";case"231":case"232":case"233":return"wi-lightning";case"300":case"301":case"302":return"wi-day-showers";case"500":case"501":return"wi-day-rain";case"502":case"511":return"wi-rain";case"520":case"521":return"wi-day-showers";case"522":return"wi-showers";case"600":return"wi-day-snow";case"601":return"wi-snow";case"602":return"wi-snowflake-cold";case"610":return"wi-day-sleet";case"611":case"612":return"wi-sleet";case"621":return"wi-day-sleet";case"622":return"wi-snowflake-cold";case"623":return"wi-snow-wind";case"700":return"wi-day-fog";case"711":return"wi-smog";case"721":return"wi-day-fog";case"731":return"wi-dust";case"741":case"751":return"wi-day-fog";case"800":return"wi-day-sunny";case"801":case"802":case"803":return"wi-day-cloudy";case"804":return"wi-cloudy";case"900":return"wi-na";default:return"na"}}),L=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this.props.forecast,a=t.rh,n=t.precip,c=t.wind_dir,i=t.wind_spd;return r.a.createElement("div",{className:"daily-forecast-block"},this.props.isSimpleMode?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"daily-forecast-col"},r.a.createElement("div",{className:"daily-forecast-humidity"}),r.a.createElement("div",{className:"daily-forecast-precip"})),r.a.createElement("div",{className:"daily-forecast-col"},r.a.createElement("div",{className:"daily-forecast-wind-icon"}),r.a.createElement("div",{className:"daily-forecast-wind"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"daily-forecast-col"},r.a.createElement("div",{className:"daily-forecast-humidity"},r.a.createElement("i",{className:"wi wi-raindrop"})," ",Math.round(a)," %"),r.a.createElement("div",{className:"daily-forecast-precip"},r.a.createElement("i",{className:"wi wi-raindrops"})," ",Math.round(n)," mm")),r.a.createElement("div",{className:"daily-forecast-col"},r.a.createElement("div",{className:"daily-forecast-wind-icon"},r.a.createElement("i",{className:"wi wi-wind-direction",style:{transform:(e=c,"rotateZ("+e+"deg)")}})),r.a.createElement("div",{className:"daily-forecast-wind"},Math.round(i),r.a.createElement("span",null,"m/s")))))}}]),t}(r.a.PureComponent),V=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"getDate",value:function(e){return new Date(e).toLocaleString("en-us",{weekday:"long"})}},{key:"render",value:function(){var e=this.props.forecast,t=e.weather.code,a=e.max_temp,n=(e.min_temp,e.datetime);return r.a.createElement("button",{className:"daily-forecast-button"},r.a.createElement("div",{className:"daily-forecast-day"},this.getDate(n)),this.props.renderForecastDetails(),r.a.createElement("div",{className:"daily-forecast-col"},r.a.createElement("div",{className:"daily-forecast-weather-icon"},r.a.createElement("i",{className:"wi "+_(t)})),r.a.createElement("div",{className:"daily-forecast-temperature"},Math.round(a))))}}]),t}(r.a.PureComponent),z=function(e){function t(){return Object(m.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(j.Consumer,null,function(t){var a=t.theme;return r.a.createElement("div",{className:"daily-forecast",style:{backgroundColor:a.dailyForecast.background}},e.props.forecast.data.map(function(t){return r.a.createElement(V,{forecast:t,key:t.datetime,renderForecastDetails:function(){return r.a.createElement(L,{isSimpleMode:e.props.isSimpleMode,forecast:t})}})}))})}}]),t}(r.a.PureComponent),J=(a(87),function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onSearchChange=function(e){a.setState({city:e})},a.onSubmit=function(){var e=Object(l.a)(u.a.mark(function e(t){var n,r,c,i,o,s,l,m;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:n=e.sent,console.log(n),"error"===n[0]?(console.log("error"),a.setState({error:!0})):(r=g()(n[0],"city_name"),c=g()(n[0],"country_code"),i="".concat(r,", ").concat(c),o=g()(n[0].data[0],"timestamp_local"),s=n[0],l=a.removeFirstDay(n[1]),m=a.getTime(o),a.setState({currentForecastData:s,dailyForecastData:l,isLoading:!1,city:i,dayTime:m>6&&m<18,error:!1}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.turnOnLoading=function(){a.setState({isLoading:!0})},a.menuButtonSimple=function(){a.setState(function(e){return{menu:Object(o.a)({},a.state.menu,{isButtonSimple:!e.menu.isButtonSimple})}})},a.menuButtonTheme=function(){a.toggleTheme()},a.state={currentForecastData:{data:[],city_name:"",country_code:"",timezone:""},dailyForecastData:{data:[],city_name:"",country_code:"",timezone:""},menu:{isMenuOpen:!1,isButtonSimple:!0,isButtonTheme:!1},isLoading:!0,city:"Kyiv, UA",dayTime:!0,error:!1,theme:O.light,toggleTheme:a.toggleTheme},a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.onSubmit(this.state.city)}},{key:"toggleTheme",value:function(){this.setState(function(e){return{theme:e.theme===O.dark?O.light:O.dark}})}},{key:"removeFirstDay",value:function(e){return e.data.shift(),e}},{key:"getTime",value:function(e){return new Date(e).getHours()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(j.Provider,{value:this.state},r.a.createElement(M,{dayTime:this.state.dayTime}),r.a.createElement(F,{toggleButtonSimple:this.menuButtonSimple,toggleButtonTheme:this.menuButtonTheme,isButtonSimple:this.state.menu.isButtonSimple,isButtonTheme:this.state.menu.isButtonTheme}),r.a.createElement(x,{onSubmit:this.onSubmit,onChange:this.onSearchChange,city:this.state.city,turnOnLoading:this.turnOnLoading}),this.state.error?r.a.createElement("div",{className:"app-error"},"City not found"):r.a.createElement(r.a.Fragment,null,this.state.isLoading?r.a.createElement(I,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{forecast:this.state.currentForecastData}),r.a.createElement(z,{forecast:this.state.dailyForecastData,isSimpleMode:this.state.menu.isButtonSimple})))))}}]),t}(n.Component)),K=a(31);i.a.render(r.a.createElement(K.a,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.acee67eb.chunk.js.map